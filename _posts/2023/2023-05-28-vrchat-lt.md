---
title: "VRでLT会を開催した話"
categories:
    - blog
tags:
    - VRChat
header:
    image: /assets/2023/2023-05-28-vrchat-lt/aruma_lt_header.png
toc: true
---

VRChat上で個人的なLT会を開催しました。  
配信サーバーの用意から運営まで面白い経験になったので、まとめます。

# aruma LT とは

* **普段の雑談の中での『QvPenを使った即興の説明』だけでは伝えきれないようなことを、スライドを使って話せる場とする。**
* （特にVR空間での）スライド発表の練習の機会とする。

という目的で、私が個人的に開催しているLT会です。

現時点では 上記の目的に従い、以下の方針で運営しています。

* 招待制とし、publicな募集や公開は行わない
* **大規模化は目指さず、より密なコミュニケーションを重視する**

※作成した資料の発信や他イベントでの再利用は推奨しています。

"LT"とつけてはいますが、上記の目的を第一に ゆるく やっています。

開催履歴

|回|日付|登壇者数|
|:-|:-|-:|
|第0回|2023/03/04|5|
|第1回 **（今回）**|2023/05/20|8|
|第2回 （予定）|2023/07 どこか|?|


# 会場の用意

VRChatには、使用実績のあるプレゼン用のワールドが複数存在します。

* [VRC-LT Talk Room](https://vrchat.com/home/world/wrld_3b48c3ad-fb93-4d62-9ca5-846fa94b8a2d)
![world_vrc_lt.png](/assets/2023/2023-05-28-vrchat-lt/world_vrc_lt.png)
    * [VRC-LT](https://vrc-lt.org/) のワールドです。
    * aruma LT 第0回 はこのワールドで開催しました。
* [PresentationWorld](https://vrchat.com/home/world/wrld_f105a307-d928-487d-aab8-a86550a88665)
![PresentationWorld.png](/assets/2023/2023-05-28-vrchat-lt/PresentationWorld.png)
    * マイクやブレイクアウト機能があり、大人数でも利用しやすいです。
    * 最近、フレンドがこのワールドに居るのをよく見かけます。様々な集会・LT会に利用されていそうです。

## 会場作成

今回は

* 小規模な開催に合う、ちょうど良いサイズにしたい。
    * 全員が拡声機能を使わずに会話できる距離にいる程度の広さにしたい。
* 見上げ～見下ろし まで対応できるような高低差が欲しい。
    * HMD装着時の楽な角度は人によって異なるため...
* 発表者から見やすい位置にタイマーを置きたい。
* せっかくなのでblenderの練習をしたい。

などあり、会場ワールドを自作することにしました。

まずは、blenderでモデルを作り...

![aruma_lt_world_blender.png](/assets/2023/2023-05-28-vrchat-lt/aruma_lt_world_blender.png)
（サポート頂いたフレンドさん、ありがとうございました!!）

Unityにインポートして...

![aruma_lt_world_unity.png](/assets/2023/2023-05-28-vrchat-lt/aruma_lt_world_unity.png)

各種アセットを配置し...

* [UnaSlides - VRChat向けプレゼンシステム](https://booth.pm/ja/items/4141632)
* [QvPen](https://booth.pm/ja/items/1555789)
* [Udon Timer](https://booth.pm/ja/items/1977611)

![aruma_lt_world_unity_assets.png](/assets/2023/2023-05-28-vrchat-lt/aruma_lt_world_unity_assets.png)

ライティング、コライダー、スポーンポイントなどを設定して、完成です。

![aruma_lt_world_unity_lighting.png](/assets/2023/2023-05-28-vrchat-lt/aruma_lt_world_unity_lighting.png)

せっかく作ったので、ブラッシュアップして小規模LT会場ワールドとしてpublic化してもよさそうです。

# スライド提出・配信システム

2023年5月現在、VRChatでスライド発表を行う際は **スライドを1枚1秒の動画に変換し、動画プレイヤーの1秒送り/戻し機能でスライド送りする** という方式がよく使われます。  
動画配信環境をどう用意するかを考えなければなりません。

『発表者それぞれが自身のYouTube等に限定公開でmp4化したスライドをアップロードする』といった方式も可能ですが、
今回は発表をできる限り手軽にしたいという背景から、pdfファイルをDiscordで提出してもらう形式を選びました。

具体的には、**"専用Discordサーバー内でbotにメンションを付けてスライドを送ると、IDが振られてサーバーに保存・公開され、専用URLがリプライで返される" というシステムを用意しました。**

少人数ということもありサーバースペックの要求は低かったため、自宅にあったNASをサーバーとして使いました。

やったこと

1. LT用のサブドメインを用意し、自宅に向けるAレコードを追加
1. 自宅ルーターに、特定ポートをNASへ向けるフォワーディングを設定
1. Let's encrypt でLT用サブドメインのSSL証明書を取得
1. NAS上でmp4配信用のnginxコンテナを起動
1. discord.py を使い、リプライで受け取ったmp4ファイルを保存しnginxへ渡す & 公開URLをリプライするbotスクリプトを作成
1. NAS上でPythonコンテナを起動し、上記スクリプトを実行
1. PCのhostsを編集し、LT用サブドメインをLAN内のNASへ向ける

詰まったこと

* 最初はwebm形式での配信を試みましたが、ストリーミングの設定ができず、VRChat上のスライドシステムで「1ページ戻しができない」という問題が発生してしまいました。
    * mp4形式に変更し、[ngx_http_mp4_module](http://nginx.org/en/docs/http/ngx_http_mp4_module.html) を利用することで回避しました。

今後改善したいこと

* pdf→mp4 の変換は発表者側に対応してもらっていたので、次回はここも自動化したいと思っています。
* 特定の参加者のみスクリーンが緑色になってしまうという現象が発生したので、今後調査します。
    * YouTubeの併用で回避しました。

# 当日の運営

ここまで来たら、あとはVRChatイベントとして進行するのみです。

![aruma_lt.png](/assets/2023/2023-05-28-vrchat-lt/aruma_lt.png)

裏ではバタバタしていましたが、フレンドさんの協力もあり無事全員の発表を終えることができました。  

ちなみに、発表順は  
『各自が1〜100の数字を選び、一斉に出す。その数字の昇順に発表する。』  
という決め方にしました。
ある程度、それぞれの希望を反映できたのではないかと思います。  
※職場の同僚が教えてくれた方式をアレンジしたものです。

# 感想

いや～～楽しかった～～～～！！！！  
多様なバックグラウンドを持つフレンドさん達が、それぞれの好きなことをを話すのですから、それはもう最高です。

改めて、登壇頂いたフレンドさん、ありがとうございました!!

# 最後に：なぜVRでLTを？

VRに馴染みのない方むけのパートです。

VRでLT会を開くメリットは

* 好きな会場を用意できる：巨大な会場・スクリーンも使い放題、しかも会場費タダ
* 土日・夜の開催も可能：深夜まで語ってしまっても、HMDを外せば即自宅
* 遠隔参加が可能：居住地によらず、『現地参加』ができる

などがあります。

（これらの利点を考慮して...と言えればカッコイイのですが...。自分はVRCを『人間用VPN』のようなものだと感じていて、繋ぎっぱなしで生活することも多くあります。なので、そもそも物理会場または配信での開催は最初から考えていませんでした。あえて『VR-LTのリアル開催』のオフ会をしても面白いかもしれませんね。）
